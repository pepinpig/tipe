%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section[Reconstruction]{Reconstruction}
%------------------------------------------------
\begin{frame}
\frametitle{Titre d'une slide avant la sous-section}
    Ici on n'a pas encore de titre de sous-section dans le bandeau du haut.
    \label{slides_hors_subsec}
\end{frame}

%++++++++++++++++++++++++++++++++++++++++++++++++
\subsection{Modélisation théorique}
%++++++++++++++++++++++++++++++++++++++++++++++++
\begin{frame}
\frametitle{Les différents repères}
  \begin{minipage}{0.58\textwidth}
        \scalebox{0.65}{\input{donnees/s2_1.tex}}
  \end{minipage}
\end{frame}
%-----------------------------------------------
\begin{frame}
\frametitle{Les différents repères}
\[
\lambda_i \begin{pmatrix}
u^{(i)} \\
v^{(i)} \\
1
\end{pmatrix}
=
\begin{pmatrix}
p_{11} & p_{12} & p_{13} & p_{14} \\
p_{21} & p_{22} & p_{23} & p_{24} \\
p_{31} & p_{32} & p_{33} & p_{34}
\end{pmatrix}
\begin{pmatrix}
x_C^{(i)} \\
y_C^{(i)} \\
z_C^{(i)} \\
1
\end{pmatrix}
\]
\end{frame}
%------------------------------------------------
\begin{frame}
\frametitle{Ce qui apparaît dans l'en-tête}
{\tiny
\[
\begin{pmatrix}
x_C^{(1)} & y_C^{(1)} & z_C^{(1)} & 1 & 0 & 0 & 0 & 0 & -u^{(1)}x_C^{(1)} & -u^{(1)}y_C^{(1)} & -u^{(1)}z_C^{(1)} & -u^{(1)} \\
0 & 0 & 0 & 0 & x_C^{(1)} & y_C^{(1)} & z_C^{(1)} & 1 & -v^{(1)}x_C^{(1)} & -v^{(1)}y_C^{(1)} & -v^{(1)}z_C^{(1)} & -v^{(1)} \\
\vdots & \vdots & \vdots & \vdots & \vdots & \vdots & \vdots & \vdots & \vdots & \vdots & \vdots & \vdots \\
x_C^{(6)} & y_C^{(6)} & z_C^{(6)} & 1 & 0 & 0 & 0 & 0 & -u^{(6)}x_C^{(6)} & -u^{(6)}y_C^{(6)} & -u^{(6)}z_C^{(6)} & -u^{(6)} \\
0 & 0 & 0 & 0 & x_C^{(6)} & y_C^{(6)} & z_C^{(6)} & 1 & -v^{(6)}x_C^{(6)} & -v^{(6)}y_C^{(6)} & -v^{(6)}z_C^{(6)} & -v^{(6)}
\end{pmatrix}
\begin{pmatrix}
p_{11}\\p_{12}\\p_{13}\\p_{14}\\
p_{21}\\p_{22}\\p_{23}\\p_{24}\\
p_{31}\\p_{32}\\p_{33}\\p_{34}
\end{pmatrix}
=
\begin{pmatrix}
0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0
\end{pmatrix}
\]
}
\begin{center}
    soit \( AP = 0 \)
\end{center}
\end{frame}
%++++++++++++++++++++++++++++++++++++++++++++++++
\subsection{Résolution}
%------------------------------------------------
\begin{frame}
\frametitle{Titre de la slide sans lettre descendant sous la baseline}

On souhaite résoudre le système en évitant la solution triviale \( P = 0 \).  
Sachant que la matrice \( P \) ne peut être déterminée qu'à un facteur près, on peut imposer arbitrairement \( \|P\|^2 = 1 \), et reformuler le système comme un problème d'optimisation :

\[
\min_{\|p\|^2 = 1} \|Ap\|^2 = \min_{\|p\|^2 = 1} p^T A^T A p
\]

On introduit :
- \( f(p) = p^T A^T A p \)
- \( g(p) = p^T p - 1 \)

D’après le théorème d’optimisation sous contrainte, au point optimal \( P^* \), il existe un scalaire \( \lambda \) tel que :

\[
\nabla f(P^*) = \lambda \nabla g(P^*)
\]

En posant \( M = A^T A \), alors :

\[
f(p) = \sum_{i=1}^n \sum_{j=1}^n p_i M_{ij} p_j
\]

\[
\frac{\partial f}{\partial p_k} = \sum_{j=1}^n M_{kj} p_j + \sum_{i=1}^n p_i M_{ik} = (Mp)_k + (M^T p)_k
\]

\[
\frac{\partial f}{\partial p} = 2Mp \quad \text{(car \( M \) est symétrique)}
\]

\[
\frac{\partial g}{\partial p} = 2p
\]

On a alors :

\[
\frac{\partial f}{\partial p} = \lambda \frac{\partial g}{\partial p} \quad \Rightarrow \quad \boxed{A^T A p = \lambda p}
\]

C’est une équation aux valeurs propres : \( p \) est un vecteur propre de \( A^T A \), et \( \lambda \) la valeur propre associée.
\end{frame}

%------------------------------------------------
\begin{frame}
\frametitle{Titre de la slide sans lettre descendant sous la baseline}
    Ici c'est mieux non?
\end{frame}

%------------------------------------------------
\begin{frame}[fragile]
\frametitle{Titre de la slide qui marche tout seul grâce au q et au g}
\end{frame}

%++++++++++++++++++++++++++++++++++++++++++++++++
\subsection{Résolution de système surdéterminé}
\subsubsection{SVD}
\subsubsection{Solution approchée}
\subsection{Reconstruction des points}
