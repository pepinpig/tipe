%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section[Reconstruction]{Reconstruction}
%------------------------------------------------
%++++++++++++++++++++++++++++++++++++++++++++++++
\subsection{Détermination du système}
%++++++++++++++++++++++++++++++++++++++++++++++++

\begin{frame}
\frametitle{Les différents repères}

\begin{minipage}{0.48\textwidth}
    \centering
    \includegraphics[width=\linewidth]{capture/cube_tikz.pdf}
    \vspace{0.5em}
    
    {\footnotesize\textbf{Représentation du cube (vue 3D)}}
\end{minipage}
\hfill
\begin{minipage}{0.48\textwidth}
    \centering
    \includegraphics[width=\linewidth]{capture/cube_repere.png}
    \vspace{0.5em}

    {\footnotesize\textbf{Cube sur une image}}
\end{minipage}

\end{frame}

\begin{frame}{Modèle de projection — Matrice \( P \)}

\begin{itemize}
  \note{sans entrer dans les détails du calcul, on montre qu on peut lié les coordonnées réels et sur l image par une relation homogene (homgene car la projection nous fait perdre une dimension)
  matrice de projection encode les caractéristiques de la caméra (rotation et translation) et les parametresintrinsèque (distance focale, taille des pixels)}
  \item<1-> On considère un point 3D \( M = (X, Y, Z) \)
  \item<2-> Il se projette sur un point image \( m = (u, v) \)
  \hyperlink{projection-appendix}{
    \beamerbutton{Compléments projections}
  }
  \item<3-> On cherche une relation linéaire homogène :
  \[
  \lambda
  \begin{bmatrix}
  u \cr v \cr 1
  \end{bmatrix}
  P
  =
  \begin{bmatrix}
  X \cr Y \cr Z \cr 1
  \end{bmatrix}
  \]

  \item<4-> \( P \) est une matrice \( 3 \times 4 \), avec 12 inconnues
  \item<5-> En faisant cela pour 6 points on obtient un système ...
\end{itemize}
\end{frame}

%------------------------


\begin{frame}{Système matriciel}
  \input{donnees/big_matrice.tex}
\end{frame}


\begin{frame}{Calibration}
  \note{
    1. Rubik's Cube comme mire de calibrage,\\
    permet d'identifier facilement les faces et d'y apposer un repère.\\
    On crée des fichiers types avec les coordonnées des points pour chaque paire de faces,\\
    et il suffit de sélectionner les points à la main pour calibrer.
  }
  \centering
  \begin{minipage}{0.32\linewidth}
    \centering
    \includegraphics[width=0.9\linewidth]{capture/cube_tuto.JPG}
    \vspace{1cm}
    \includegraphics[width=0.9\linewidth]{capture/BO.png}
  \end{minipage}
  \hfill
  \begin{minipage}{0.6\linewidth}
    \centering
    \includegraphics[width=0.9\linewidth]{capture/selection.png}
    \captionof{figure}{Interface utilisateur}
  \end{minipage}
\end{frame}
